
<div class="container-fluid mt-1">

    <div class="row">
            <div class="row" *ngIf="historyService.purchaseHistory.length > 0; else elseBlock">

                <div class="col mt-1"  *ngFor="let item of historyService.purchaseHistory">
                    <div class="container border border-primary d-flex flex-column justify-content-around align-items-center">
                        <div class="row">
                            <div class="col-7">
                    
                                <img src={{item.trip.photoUrl}} alt="trip photo">
                                <div class="w-100 ">
                                    <div class=" mb-1">
                                        <!-- <p class="places" [ngStyle]="{'color': trip.availablePlaces > 3 ? 'green' : 'orange'}" *ngIf="trip.availablePlaces > 0">places left: {{trip.availablePlaces}}</p> -->
                                        <!-- <p *ngIf="trip.availablePlaces == 0" class="text-danger places">booked out</p> -->
                                        <p class="places">Bought places <span id="reservedNumber">{{item.quantity}}</span></p>
                                        <p class="places">Bought on <span id="reservedNumber">{{item.purchaseDate}}</span></p>

                                    </div>
                                </div>
                            </div>
                            <div class="col-5 d-flex flex-column justify-content-start align-items-center">
                                <header class="display-6 mb-2">{{item.trip.name | uppercase}}</header>
                                <div class="w-100 d-flex justify-content-around ">
                                    <p class="mb-1">{{item.trip.country | uppercase }}</p>
                                    <p class="mb-1">{{item.trip.price}} PLN</p>
                                </div>
                                <p class="mb-1"><i class="fa fa-calendar"></i> {{item.trip.dateStart}}-{{item.trip.dateEnd}}</p>
                                <p class="mb-1">{{item.trip.description}}</p>
                            </div>
                    
                        </div>
                        <div class="line"></div>
                        <div class="row">
                            <div class="col places mb-2">
                                <ng-container *ngIf="item.state === 1; else present">
                                    trip state: finished
                                </ng-container>
                                <ng-template #present>
                                    <ng-container *ngIf="item.state === 0;else future">
                                        trip state: ongoing
                                    </ng-container>
                                </ng-template>
                                <ng-template #future>
                                    trip state: waiting on start
                                </ng-template>

                                
                            </div>
                        </div>
                        <!-- <div class="row">
                            <div class="col">
                                <div class="d-flex justify-content-around align-items-center mb-1">
                                    <p class="reservations me-1">Currently reserved: <span class="text-primary" id="reservedNumber">{{cartService.getQuantityOfTrip(trip)}}</span></p>
                                    <button class="btn btn-primary me-1" (click)="onAddClick()" *ngIf="trip.availablePlaces > 0">Add</button>
                                    <button class="btn btn-danger" (click)="onRemoveClick()">Remove</button>
                                </div>
                    
                                <div class="d-flex justify-content-center align-items-center">
                                    <label class="reservations" for="payment">Included in payment</label>
                                    <input class="form-check-input ms-1" type="checkbox" id="payment" [checked]="includedInPayment" (click)="changePaymentInclusion($event.target)">
                                </div>
                            </div>
                    
                        </div> -->
                    </div>
                </div>

            </div>
            <ng-template #elseBlock>
                <div class="col buy border border-3 border-success mt-1 text-success d-flex justify-content-center">
                    No items in purchase History
                </div>
            </ng-template>
    </div>
        
</div>